DROP DATABASE IF EXISTS cherkizovo;
CREATE DATABASE cherkizovo;
USE cherkizovo;

DROP TABLE IF EXISTS Staff;
CREATE TABLE Staff
(
    ID SERIAL,
    Login VARCHAR(255),
    Name VARCHAR(255),
    SurName VARCHAR(255),
    MiddleName VARCHAR(255),
    Password VARCHAR(512),
    Email VARCHAR(255),
    Status VARCHAR(255) DEFAULT 'User',
    Phone VARCHAR(11),
    DateBirth Date,
    Address VARCHAR(255),
    FamilyStatus VARCHAR(32),
    Education VARCHAR(32),
    Job VARCHAR(64),
    Department VARCHAR(32),
    Salary INT, 
    PRIMARY KEY (ID)
);

DROP TABLE IF EXISTS SMM;
CREATE TABLE SMM
(
    ID SERIAL,
    CreatedAt Datetime DEFAULT CURRENT_TIMESTAMP,
    Description TEXT,
    Price INT,
    Likes INT,
    Dislikes INT,
    Views INT,
    Shares INT,
    Comments INT,
    StaffID BIGINT UNSIGNED NOT NULL,
    Stat VARCHAR(32) DEFAULT 'В работе',
    PRIMARY KEY (ID),
    FOREIGN KEY (StaffID) REFERENCES Staff(ID)
);

DROP TABLE IF EXISTS PR;
CREATE TABLE PR
(
    ID SERIAL,
    DatePR Datetime DEFAULT CURRENT_TIMESTAMP,
    Description TEXT,
    Price int,
    Tv int,
    MassMedia int,
    Gallery int,
    PosComments int,
    NegComments int,
    StaffID BIGINT UNSIGNED NOT NULL,
    Stat VARCHAR(32) DEFAULT 'В работе',
    PRIMARY KEY (ID),
    FOREIGN KEY (StaffID) REFERENCES Staff(ID)
);

INSERT INTO Staff VALUES
(1, 'PetrovskyZA','Петровский', 'Зуфар', 'Александрович', SHA2('123',512), 'petrovsky@mai.ru','User','89568885456','1965-02-22','Авиамоторная 18','Женат','Высшее','Директор отдела маркетинга', 'ADM', 500000),
(2, 'GushinVF','Гущин', 'Владимр', 'Федорович', SHA2('123',512), 'Guwin@mail.ru','User','89998745569','1976-11-18','Новый Арбат 23','Женат','Высшее','Руководитель PR-отдела', 'ADM', 350000),
(3, 'AvdeevYA','Авдеев', 'Ян', 'Эдуардович', SHA2('123',512), 'Avdeev@gmail.com','User','89189125436','1981-06-14','Смоленская площадь 21','Женат','Высшее','SMM - маркетолог', 'SMM', 230000),
(4, 'EreminGB','Еремин', 'Глеб', 'Борисович', SHA2('123',512), 'Eremin@gmail.com','User','89888952635','1997-07-21','Ейская 56','Не женат','Высшее','Дизайнер', 'PR', 165000),
(5, 'BateikoMA','Батейко', 'Мальвина', 'Артемовна', SHA2('123',512), 'Artemova@gmail.ru','User','89781584652','1990-08-06','Плющева 19','Замужем','Высшее','Руководитель отдела интернет-маркетинг', 'SMM', 350000),
(6, 'AnisimovaRD','Анисимова', 'Раиса', 'Дмитриевна', SHA2('123',512), 'Anisimova@gmail.com','User','89164255536','1986-01-03','Онежская 9','Не замужем','Высшее','Руководитель отдела рекламы', 'ADM', 350000),
(7, 'TyagaiAM','Тягай', 'Антон', 'Михайлович', SHA2('123',512), 'tiagay@gmail.com','User','89261452587','1989-12-03','Михалковская 22','Не женат','Высшее','Менеджер по региональному PR', 'PR', 250000),
(8, 'BykovAA','Быков', 'Андрей', 'Андрееви', SHA2('123',512), 'bykov@gmail.com','User','89127778984','1992-03-18','Трубецкая 33','Женат','Высшее','Менеджер по региональной рекламе', 'ADM', 210000),
(9, 'PetohovMB','Петухов', 'Макар', 'Борисович', SHA2('123',512), 'petuhov@gmail.com','User','89874589899','1984-08-09','Химкинский бульвар 33','Не женат','Высшее','Менеджер по региональному PR', 'PR', 180000),
(10, 'KotovYE','Котов', 'Ярослав', 'Евгениевич', SHA2('123',512), 'kotov@gmail.com','User','89465898562','1985-03-28','Ямская 2-я 15','Женат','Высшее','Менеджер по региональной рекламе', 'ADM', 180000),
(11, 'KazarovIV','Казаров', 'Иван', 'Витальевич', SHA2('123',512), 'kazarov@gmail.com','User','89465898587','1990-04-10','Малый Каретный переулок 6','Женат','Высшее','Маркетолог-аналитик', 'ADM', 170000),
(12, 'EvdakimovaVR','Евдакимова', 'Вера', 'Романова', SHA2('123',512), 'evdakimova@gmail.com','User','89472355555','1989-11-27','Летная 68','Замужем','Среднее профессиональное','Копирайтер', 'PR', 130000),
(13, 'ShufrichEV','Шуфрич', 'Егор', 'Вадимович', SHA2('123',512), 'shufrich@gmail.com','User','89261162333','1993-09-19','Летниковская 13','Не женат','Среднее профессиональное','Интернет-дизайнер', 'SMM', 140000),
(14, 'YakimovAG','Якимов', 'Александр', 'Глебович', SHA2('123',512), 'yakimov@gmail.com','User','89899854562','1992-02-02','Каширское шоссе 45','Женат','Высшее','Маркетолог-аналитик', 'ADM', 170000),
(15, 'ShuvalovaED','Шувалова', 'Екатерина', 'Дмитриевна', SHA2('123',512), 'shuvalova@gmail.com','User','89568541122','1987-11-05','Малая бронная 47','Не замужем','Среднее профессиональное','Дизайнер', 'PR', 155000),
(16, 'TulinAA','Тулин', 'Артем', 'Андреевич', SHA2('123',512), 'tulin@gmail.com','User','89782365874','1983-10-10','Кошкина 20','Не женат','Высшее','SMM - маркетолог', 'SMM', 230000),
(17, 'AlekseevaZO','Алексеева', 'Залина', 'Олеговна', SHA2('123',512), 'alekseeva@gmail.com','User','89561254585','1994-05-28','Зубовская 42','Замужем','Высшее','Менеджер по организации мероприятий', 'PR', 240000);


INSERT INTO SMM VALUES
(1,'2020-06-01' , 'test', 320000, 3897,129, 4125485, 142, 145, 3,'В работе'),
(2,'2020-05-01' , 'test1', 350000, 3978,258, 3856912, 137, 256, 16,'Завершен'),
(3,'2020-04-01', 'test', 290000, 3845,125,4035758,124, 145, 3, 'Завершен'),
(4,'2020-03-01', 'test', 310000, 3984,324,3945258,109, 250, 16, 'Завершен'),
(5,'2020-02-01', 'test', 260000, 4023,378,3845652,126, 197, 3, 'Завершен'),
(6,'2020-01-01', 'test', 280000, 4099,256,3456258,145, 276, 16, 'Завершен'),
(7,'2019-12-01', 'test', 250000, 4086,126,3854125,123, 284, 3, 'Завершен'),
(8,'2019-11-01', 'test', 320000, 4237,254,4103587,150, 342, 16, 'Завершен'),
(9,'2019-10-01', 'test', 300000, 4128,124,4501246,116, 380, 3, 'Завершен'),
(10,'2019-09-01', 'test', 240000, 3948,352,3946278,109, 276, 16, 'Завершен'),
(11,'2019-08-01', 'test', 230000, 3850,412,3846254,128, 186, 3, 'Завершен'),
(12,'2019-07-01', 'test', 250000, 3796,128,3925458,112, 238, 16, 'Завершен'),
(13,'2019-06-01', 'test', 150000, 3758,235,4072281,120, 249, 16, 'Завершен');

INSERT INTO PR VALUES 
(1,'2020-06-01','PR', 540000, 25, 12, 3, 124, 13, 9, 'В работе'),
(2,'2020-05-01', 'test', 510000, 31, 14, 1, 197, 22, 7, 'Завершен'),
(3,'2020-04-01', 'test', 470000, 28, 19, 1, 168, 24, 9, 'Завершен'),
(4,'2020-03-01', 'test', 485000, 26, 15, 2, 122, 16, 7, 'Завершен'),
(5,'2020-02-01', 'test', 495000, 30, 16, 1, 142, 14, 9, 'Завершен'),
(6,'2020-01-01', 'test', 490000, 22, 13, 1, 131, 25, 7, 'Завершен'),
(7,'2019-12-01', 'test', 550000, 23, 7, 2, 11, 9, 7, 'Завершен'),
(8,'2019-11-01', 'test', 465000, 27, 9, 2, 180, 11, 7, 'Завершен'),
(9,'2019-10-01', 'test', 490000, 28, 10, 1, 142, 35, 9, 'Завершен'),
(10,'2019-09-01', 'test', 530000, 19, 11, 1, 137, 18, 7, 'Завершен'),
(11,'2019-08-01', 'test', 520000, 31, 16, 2, 155, 16, 9, 'Завершен'),
(12,'2019-07-01', 'test', 450000, 23, 15, 3, 140, 14, 9, 'Завершен'),
(13,'2019-06-01', 'test', 480000, 22, 12, 2, 160, 12, 7, 'Завершен');